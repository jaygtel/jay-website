#!/usr/bin/env bash
# Block commits made directly on main
branch="$(git rev-parse --abbrev-ref HEAD 2>/dev/null)"

if [[ "$branch" == "main" ]]; then
  echo "✋ Commit blocked: do not commit directly to 'main'."
  echo "→ Create a branch:  git switch -c release/Mx   (or any feature branch)"
  echo "→ Open a PR into main."
  exit 1
fi

exit 0
